/*! For license information please see tool.js.LICENSE.txt */
(()=>{"use strict";var e,t={262:(e,t)=>{t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}},347:(e,t,r)=>{const n=Vue;function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c={class:"mb-6"},i={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},l={class:"flex items-center justify-between mb-4"},u={class:"text-lg font-semibold"},s={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},f={key:1,class:"text-sm text-gray-500 dark:text-gray-500"};function p(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof i?n:i,u=Object.create(l.prototype);return d(u,"_invoke",function(r,n,a){var o,i,l,u=0,s=a||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,i=0,l=e,p.n=r,c}};function d(r,n){for(i=r,l=n,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],d=p.p,v=o[2];r>3?(a=v===n)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(i=0,p.v=n,p.n=o[1]):d<v&&(a=r<3||o[0]>n||n>v)&&(o[4]=r,o[5]=n,p.n=v,i=0))}if(a||r>1)return c;throw f=!0,n}return function(a,s,v){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,v),i=s,l=v;(t=i<2?e:l)||!f;){o||(i?i<3?(i>1&&(p.n=-1),d(i,l)):p.n=l:p.v=l);try{if(u=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(f=p.n<0)?l:r.call(n,p))!==c)break}catch(t){o=e,i=1,l=t}finally{u=1}}return{value:t,done:f}}}(r,a,o),!0),u}var c={};function i(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(d(t={},n,function(){return this}),t),f=u.prototype=i.prototype=Object.create(s);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,d(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,d(f,"constructor",u),d(u,"constructor",l),l.displayName="GeneratorFunction",d(u,a,"GeneratorFunction"),d(f),d(f,a,"Generator"),d(f,n,function(){return this}),d(f,"toString",function(){return"[object Generator]"}),(p=function(){return{w:o,m:v}})()}function d(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}d=function(e,t,r,n){function o(t,r){d(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},d(e,t,r,n)}function v(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function c(e){v(o,n,a,c,i,"next",e)}function i(e){v(o,n,a,c,i,"throw",e)}c(void 0)})}}const y={setup:function(){var e=(0,n.ref)({}),t=(0,n.ref)(null),r=(0,n.ref)(!1),a=function(){var t=m(p().m(function t(){var r,n;return p().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,Nova.request().get("/nova-vendor/cache-manager/timestamps");case 1:(r=t.v).data.success&&(e.value=r.data.timestamps),t.n=3;break;case 2:t.p=2,n=t.v,console.error("Failed to load timestamps:",n);case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}(),o=function(){var r=m(p().m(function r(n){var a,o,c;return p().w(function(r){for(;;)switch(r.p=r.n){case 0:return t.value=n,r.p=1,r.n=2,Nova.request().post("/nova-vendor/cache-manager/clear/".concat(n));case 2:(a=r.v).data.success?(Nova.success(a.data.message),e.value[n]=a.data.timestamp):Nova.error(a.data.message||"Failed to clear cache"),r.n=4;break;case 3:r.p=3,c=r.v,Nova.error((null===(o=c.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.message)||"An error occurred while clearing the cache");case 4:return r.p=4,t.value=null,r.f(4);case 5:return r.a(2)}},r,null,[[1,3,4,5]])}));return function(e){return r.apply(this,arguments)}}(),c=function(){var e=m(p().m(function e(){var t,n,o;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(confirm("Are you sure you want to clear all caches?")){e.n=1;break}return e.a(2);case 1:return r.value=!0,e.p=2,e.n=3,Nova.request().post("/nova-vendor/cache-manager/clear-all");case 3:if(!(t=e.v).data.success){e.n=5;break}return Nova.success(t.data.message),e.n=4,a();case 4:e.n=6;break;case 5:Nova.error(t.data.message||"Failed to clear all caches");case 6:e.n=8;break;case 7:e.p=7,o=e.v,Nova.error((null===(n=o.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||"An error occurred while clearing all caches");case 8:return e.p=8,r.value=!1,e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])}));return function(){return e.apply(this,arguments)}}();return(0,n.onMounted)(function(){a()}),{cacheTypes:[{type:"application",label:"Application Cache"},{type:"config",label:"Config Cache"},{type:"route",label:"Route Cache"},{type:"view",label:"View Cache"},{type:"event",label:"Event Cache"},{type:"optimize",label:"Optimize Cache"}],timestamps:e,clearing:t,clearingAll:r,clearCache:o,clearAll:c,formatTimestamp:function(e){if(!e)return"Never";try{return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(t){return e}}}}};const h=(0,r(262).A)(y,[["render",function(e,t,r,o,p,d){var v=(0,n.resolveComponent)("Head"),m=(0,n.resolveComponent)("Heading"),y=(0,n.resolveComponent)("Button"),h=(0,n.resolveComponent)("Card");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(v,{title:"Cache Manager"}),(0,n.createVNode)(m,{class:"mb-6"},{default:(0,n.withCtx)(function(){return a(t[0]||(t[0]=[(0,n.createTextVNode)("Cache Manager",-1)]))}),_:1}),(0,n.createElementVNode)("div",c,[(0,n.createVNode)(y,{type:"button",variant:"danger",onClick:o.clearAll,loading:o.clearingAll,disabled:o.clearing},{default:(0,n.withCtx)(function(){return a(t[1]||(t[1]=[(0,n.createTextVNode)(" Clear All Caches ",-1)]))}),_:1},8,["onClick","loading","disabled"])]),(0,n.createElementVNode)("div",i,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.cacheTypes,function(e){return(0,n.openBlock)(),(0,n.createBlock)(h,{key:e.type,class:"p-6"},{default:(0,n.withCtx)(function(){return[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("h3",u,(0,n.toDisplayString)(e.label),1),(0,n.createVNode)(y,{type:"button",variant:"primary",size:"sm",onClick:function(t){return o.clearCache(e.type)},loading:o.clearing===e.type,disabled:o.clearing&&o.clearing!==e.type},{default:(0,n.withCtx)(function(){return a(t[2]||(t[2]=[(0,n.createTextVNode)(" Clear ",-1)]))}),_:1},8,["onClick","loading","disabled"])]),o.timestamps[e.type]?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[t[3]||(t[3]=(0,n.createElementVNode)("p",{class:"font-medium mb-1"},"Last cleared:",-1)),(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(o.formatTimestamp(o.timestamps[e.type])),1)])):((0,n.openBlock)(),(0,n.createElementBlock)("div",f,a(t[4]||(t[4]=[(0,n.createElementVNode)("p",null,"Never cleared",-1)]))))]}),_:2},1024)}),128))])])}]]);Nova.inertia("CacheManager",h),Nova.booting(function(e,t){})},351:()=>{}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var c=1/0;for(s=0;s<e.length;s++){for(var[r,a,o]=e[s],i=!0,l=0;l<r.length;l++)(!1&o||c>=o)&&Object.keys(n.O).every(e=>n.O[e](r[l]))?r.splice(l--,1):(i=!1,o<c&&(c=o));if(i){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,a,o]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={416:0,757:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[c,i,l]=r,u=0;if(c.some(t=>0!==e[t])){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var s=l(n)}for(t&&t(r);u<c.length;u++)o=c[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(s)},r=self.webpackChunkapp_cache_manager=self.webpackChunkapp_cache_manager||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[757],()=>n(347));var a=n.O(void 0,[757],()=>n(351));a=n.O(a)})();